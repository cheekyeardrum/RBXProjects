-- Buy Tab Setup
local function buildBuyTab()
    for _,v in pairs(contentFrame:GetChildren()) do v:Destroy() end

    -- Label
    local label = Instance.new("TextLabel", contentFrame)
    label.Size = UDim2.new(0.6, -10, 0, 30) -- left side
    label.Position = UDim2.new(0, 10, 0, 10)
    label.BackgroundTransparency = 1
    label.Text = "Auto-Buy Packs"
    label.TextColor3 = Color3.new(1,1,1)
    label.Font = Enum.Font.SourceSansBold
    label.TextSize = 18
    label.TextXAlignment = Enum.TextXAlignment.Left

    -- Toggle Button
    local buyBtn = Instance.new("TextButton", contentFrame)
    buyBtn.Size = UDim2.new(0.35, 0, 0, 30) -- right side
    buyBtn.Position = UDim2.new(0.65, 0, 0, 10)
    buyBtn.Text = "OFF"
    buyBtn.Font = Enum.Font.SourceSansBold
    buyBtn.TextSize = 18
    buyBtn.BackgroundColor3 = Color3.fromRGB(88,101,242)
    buyBtn.TextColor3 = Color3.new(1,1,1)
    round(buyBtn, 6)

    -- Toggle variable
    local toggle = false
    buyBtn.MouseButton1Click:Connect(function()
        toggle = not toggle
        buyBtn.Text = toggle and "ON" or "OFF"
    end)

    -- Auto-buy Loop
    task.spawn(function()
        local brks = game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("InfoFunction")

        local packs = {
            "Starter Pack","Electric Pack","Twins Pack","Blood Pack",
            "Toxic Pack","Circuit Pack","Grass Pack","Rock Pack",
            "Waterfall Pack","Volcano Pack"
        }
        local tools = {"BuyPSATool 6","BuyPSATool 7"}

        while true do
            if toggle then
                for _,v in ipairs(packs) do
                    for i=1,20 do
                        pcall(function() brks:InvokeServer("BuyBoosterPack",v) end)
                        task.wait(0.05)
                    end
                end
                for _,v in ipairs(tools) do
                    for i=1,20 do
                        pcall(function() brks:InvokeServer(v) end)
                        task.wait(0.05)
                    end
                end
                task.wait(300) -- 5 minute interval
            else
                task.wait(1)
            end
        end
    end)
end
